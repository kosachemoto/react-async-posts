(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,function(e,t,n){"use strict";var a=n(23);n.d(t,"RESET_STATE",function(){return a.a}),n.d(t,"resetState",function(){return a.b});var r=n(24);n.d(t,"REQUEST_POST",function(){return r.a}),n.d(t,"receivePost",function(){return r.b});var c=n(25);n.d(t,"REQUEST_USER",function(){return c.a}),n.d(t,"receiveUser",function(){return c.b});var o=n(20);n.o(o,"receiveAuthor")&&n.d(t,"receiveAuthor",function(){return o.receiveAuthor})},,,,,,,,,function(e,t,n){"use strict";var a=n(16),r=n.n(a),c="https://jsonplaceholder.typicode.com",o={posts:[],loaded:!1,post:function(e){return new Promise(function(t,n){r()("".concat(c,"/posts/").concat(e)).then(function(e){e.ok?t(e.json()):n(new Error("Request status: ".concat(e.status," :(")))})})},user:function(e){return new Promise(function(t,n){r()("".concat(c,"/users/").concat(e)).then(function(e){e.ok?t(e.json()):n(new Error("Request status: ".concat(e.status," :(")))})})}};n.d(t,"a",function(){return o})},,,,,,function(e,t,n){"use strict";var a=n(21);n.o(a,"receiveAuthor")&&n.d(t,"receiveAuthor",function(){return a.receiveAuthor})},function(e,t){},,function(e,t,n){"use strict";var a={POSTS:"RESET_STATE_POSTS"};function r(e){return{type:a[e]}}n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r})},function(e,t,n){"use strict";var a=n(14),r={START:"REQUEST_POST_START",FINISH:"REQUEST_POST_FINISH",ERROR:"REQUEST_POST_ERROR"};function c(e,t){return{type:r[e],payload:t}}function o(e){return function(t){t(c("START")),a.a.post(e).then(function(e){t(c("FINISH",{post:e}))}).catch(function(e){t(c("ERROR",{error:e}))})}}n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o})},function(e,t,n){"use strict";var a=n(14),r={START:"REQUEST_USER_START",FINISH:"REQUEST_USER_FINISH",ERROR:"REQUEST_USER_ERROR"};function c(e,t){return{type:r[e],payload:t}}function o(e){return function(t){t(c("START")),a.a.user(e).then(function(e){t(c("FINISH",{user:e}))}).catch(function(e){t(c("ERROR",{error:e}))})}}n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o})},,,,,function(e,t,n){e.exports=n.p+"static/media/plus.5338dd10.svg"},function(e,t,n){e.exports=n.p+"static/media/stop.5a80db53.svg"},,function(e,t,n){e.exports=n(74)},,,,,function(e,t,n){},,,,,,,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,,,,,,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){"use strict";n.r(t);var a=n(26),r=n(0),c=n.n(r),o=n(27),s=n.n(o);n(38),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var u=n(8),i=n(5),l=n(11),m=n(7),E=Object(u.c)({posts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i.REQUEST_POST.FINISH:var n=t.payload.post;return Object(m.a)({},e,Object(l.a)({},n.id,Object(m.a)({},n)));case i.REQUEST_POST.ERROR:return Object(m.a)({},e);case i.REQUEST_POST.START:default:return Object(m.a)({},e)}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i.REQUEST_USER.FINISH:var n=t.payload.user;return Object(m.a)({},e,Object(l.a)({},n.id,Object(m.a)({},n)));case i.REQUEST_USER.ERROR:return Object(m.a)({},e);case i.REQUEST_USER.START:default:return Object(m.a)({},e)}}}),d=n(29),f=n(12),p=(n(45),Object(f.b)(function(e,t){var n=t.postId,a=e.posts[n]?e.posts[n]:void 0,r=a?a.userId:void 0;return{post:a,author:e.users[r]?e.users[r]:void 0}},function(e){return{loadPost:function(t){return e(Object(i.receivePost)(t))},loadUser:function(t){return e(Object(i.receiveUser)(t))}}})(function(e){var t=e.className,n=e.postId,a=e.post,o=e.author,s=e.loadPost,u=e.loadUser;return Object(r.useEffect)(function(){n&&!a&&s(n),a&&!o&&u(a.userId)}),n?c.a.createElement("div",{className:"post-detail ".concat(t)},c.a.createElement(N,{post:a,author:o}),c.a.createElement(h,null)):c.a.createElement("div",{className:"post-detail ".concat(t)},"Did not selected any post...")})),v=(n(47),function(e){var t=Object.keys(e);if(!t.length)return 1;var n=t.findIndex(function(e,t){return+e!==t+1});return n<0?t.length+1:n+1}),S=Object(f.b)(function(e,t){return Object(m.a)({posts:e.posts},t)},function(e){return{loadNext:function(t){return e(Object(i.receivePost)(t))},loadAuthor:function(){return e(Object(i.receiveAuthor)())},resetPosts:function(){return e(Object(i.resetState)("POSTS"))}}})(function(e){var t=e.posts,n=e.loadNext,a=e.className,r=e.resetPosts,o=v(t);return c.a.createElement("div",{className:"post-list ".concat(a)},c.a.createElement(w,{loadNext:function(){n(o)},nextPostId:v(t)}),c.a.createElement(y,{resetPosts:r}),Object.values(t).map(function(e,t){return c.a.createElement(I,Object.assign({key:t},e))}))}),R=(n(49),function(e){var t=e.match.params.postId;return c.a.createElement("div",{className:"app"},c.a.createElement("div",{className:"app__title"},"Posts app"),c.a.createElement(S,{className:"app__post-list"}),c.a.createElement(p,{className:"app__post-detail",postId:t||""}))}),O=(n(51),function(e){var t=e.className,n=e.author,a=void 0===n?{}:n;return Object.entries(a).length?c.a.createElement("div",{className:"author ".concat(t)},c.a.createElement("span",{className:"author-name"},a.name)," / ",c.a.createElement("span",{className:"author-email"},a.email)):c.a.createElement(b,{message:"Author does not loaded for unknown reasons... w(\xb0\uff4f\xb0)w"})}),T=(n(53),function(){return c.a.createElement("div",{className:"comment"},c.a.createElement("div",{className:"comment-title"},"REPELLAT PROVIDENT OCCAECATI"),c.a.createElement("div",{className:"comment-body"},"quas totam nostrum rerum est autem sunt rem eveniet architecto"),c.a.createElement(O,{className:"comment_author"}))}),h=(n(55),function(){return c.a.createElement("div",{className:"comment-list"},c.a.createElement(T,null),c.a.createElement(T,null),c.a.createElement(T,null))}),b=(n(57),function(e){var t=e.className,n=e.message;return c.a.createElement("div",{className:"error-message ".concat(t)},n)}),N=(n(59),function(e){var t=e.post,n=void 0===t?{}:t,a=e.author,r=void 0===a?{}:a;return c.a.createElement("div",{className:"post"},c.a.createElement("h3",{className:"post-title"},n.title),c.a.createElement("p",{className:"post-body"},n.body),c.a.createElement(O,{className:"post_author",author:r}))}),_=n(78),I=(n(61),function(e){var t=e.id,n=e.title,a=e.body;return c.a.createElement(_.a,{exact:!0,to:"/posts/".concat(t),className:"post-preview"},c.a.createElement("h3",{className:"post-preview-title"},n),c.a.createElement("p",{className:"post-preview-body"},a))}),j=(n(68),n(30)),g=n.n(j),w=function(e){var t=e.loadNext;return c.a.createElement("div",{className:"more-button",onClick:t},c.a.createElement("div",{className:"more-button__title"},"Load More"),c.a.createElement("img",{className:"more-button__img",src:g.a,alt:"Add more"}))},P=(n(70),n(31)),U=n.n(P),y=function(e){var t=e.resetPosts;return c.a.createElement("div",{className:"reset-button",onClick:t},c.a.createElement("div",{className:"reset-button__title"},"Reset Store"),c.a.createElement("img",{className:"reset-button__img",src:U.a,alt:"Reset store"}))},A=n(76),Q=n(75),x=n(77),k=(n(72),window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||u.d),F=Object(d.createLogger)(),H=function(){try{var e=localStorage.getItem("state");if(null===e)return;return JSON.parse(e)}catch(t){return}}(),C=Object(u.e)(function(e,t){switch(t.type){case i.RESET_STATE.POSTS:e=void 0}return E(e,t)},H,k(Object(u.a)(a.a,F)));C.subscribe(function(){!function(e){try{var t=JSON.stringify(e);localStorage.setItem("state",t)}catch(n){}}(C.getState())}),s.a.render(c.a.createElement(function(e){var t=e.store;return c.a.createElement(f.a,{store:t},c.a.createElement(A.a,{basename:"/react-async-posts"},c.a.createElement(c.a.Fragment,null,c.a.createElement(Q.a,{exact:!0,path:"/",render:function(){return c.a.createElement(x.a,{to:"/posts"})}}),c.a.createElement(Q.a,{exact:!0,path:"/posts",component:R}),c.a.createElement(Q.a,{exact:!0,path:"/posts/:postId",component:R}))))},{store:C}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[33,2,1]]]);
//# sourceMappingURL=main.c715fa38.chunk.js.map