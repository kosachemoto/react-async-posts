(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,function(e,t,n){"use strict";var a=n(23);n.d(t,"RESET_STATE",function(){return a.a}),n.d(t,"resetState",function(){return a.b});var r=n(24);n.d(t,"REQUEST_POST",function(){return r.a}),n.d(t,"receivePost",function(){return r.b});var c=n(25);n.d(t,"REQUEST_USER",function(){return c.a}),n.d(t,"receiveUser",function(){return c.b});var o=n(20);n.o(o,"receiveAuthor")&&n.d(t,"receiveAuthor",function(){return o.receiveAuthor})},,,,,,,,,,,function(e,t,n){"use strict";var a=n(16),r=n.n(a),c="https://jsonplaceholder.typicode.com",o={posts:[],loaded:!1,post:function(e){return new Promise(function(t,n){r()("".concat(c,"/posts/").concat(e)).then(function(e){e.ok?t(e.json()):n(new Error("Request status: ".concat(e.status," :(")))})})},user:function(e){return new Promise(function(t,n){r()("".concat(c,"/users/").concat(e)).then(function(e){e.ok?t(e.json()):n(new Error("Request status: ".concat(e.status," :(")))})})}};n.d(t,"a",function(){return o})},,,,,,function(e,t,n){"use strict";var a=n(21);n.o(a,"receiveAuthor")&&n.d(t,"receiveAuthor",function(){return a.receiveAuthor})},function(e,t){},,function(e,t,n){"use strict";var a={POSTS:"RESET_STATE_POSTS"};function r(e){return{type:a[e]}}n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r})},function(e,t,n){"use strict";var a=n(14),r={START:"REQUEST_POST_START",FINISH:"REQUEST_POST_FINISH",ERROR:"REQUEST_POST_ERROR"};function c(e,t){return{type:r[e],payload:t}}function o(e){return function(t){t(c("START")),a.a.post(e).then(function(e){t(c("FINISH",{post:e}))}).catch(function(e){t(c("ERROR",{error:e}))})}}n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o})},function(e,t,n){"use strict";var a=n(14),r={START:"REQUEST_USER_START",FINISH:"REQUEST_USER_FINISH",ERROR:"REQUEST_USER_ERROR"};function c(e,t){return{type:r[e],payload:t}}function o(e){return function(t){t(c("START")),a.a.user(e).then(function(e){t(c("FINISH",{user:e}))}).catch(function(e){t(c("ERROR",{error:e}))})}}n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o})},,,,,,function(e,t,n){e.exports=n(79)},,,,,function(e,t,n){},,,,,,,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){var a={"./home.svg":56,"./plus.svg":57,"./refresh.svg":58,"./stop.svg":59};function r(e){var t=c(e);return n(t)}function c(e){var t=a[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}r.keys=function(){return Object.keys(a)},r.resolve=c,e.exports=r,r.id=55},function(e,t,n){e.exports=n.p+"static/media/home.be1885fa.svg"},function(e,t,n){e.exports=n.p+"static/media/plus.5338dd10.svg"},function(e,t,n){e.exports=n.p+"static/media/refresh.1646917e.svg"},function(e,t,n){e.exports=n.p+"static/media/stop.5a80db53.svg"},function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,,,,,,function(e,t,n){},,function(e,t,n){"use strict";n.r(t);var a=n(26),r=n(0),c=n.n(r),o=n(27),s=n.n(o);n(36),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var u=n(9),i=n(3),l=n(12),m=n(6),f=Object(u.c)({posts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i.REQUEST_POST.FINISH:var n=t.payload.post;return Object(m.a)({},e,Object(l.a)({},n.id,Object(m.a)({},n)));case i.REQUEST_POST.ERROR:return Object(m.a)({},e);case i.REQUEST_POST.START:default:return Object(m.a)({},e)}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i.REQUEST_USER.FINISH:var n=t.payload.user;return Object(m.a)({},e,Object(l.a)({},n.id,Object(m.a)({},n)));case i.REQUEST_USER.ERROR:return Object(m.a)({},e);case i.REQUEST_USER.START:default:return Object(m.a)({},e)}}}),d=n(29),E=n(8),p=(n(43),function(e){var t=Object.keys(e);if(!t.length)return 1;var n=t.findIndex(function(e,t){return+e!==t+1});return n<0?t.length+1:n+1}),v=Object(E.b)(function(e,t){return Object(m.a)({posts:e.posts},t)},function(e){return{loadPost:function(t){return e(Object(i.receivePost)(t))},resetPosts:function(){return e(Object(i.resetState)("POSTS"))}}})(function(e){var t=e.posts,n=e.loadPost,a=e.resetPosts,r=p(t),o=[{className:"home-button",image:"home",callback:function(){}},{className:"more-button",image:"plus",callback:function(){n(r)}},{className:"refresh-button",image:"refresh",callback:function(){}},{className:"reset-button",image:"stop",callback:a}];return c.a.createElement("div",{className:"control-panel"},o.map(function(e){return c.a.createElement(T,e)}))}),S=(n(45),Object(E.b)(function(e,t){var n=t.postId,a=e.posts[n]?e.posts[n]:void 0,r=a?a.userId:void 0;return{post:a,author:e.users[r]?e.users[r]:void 0}},function(e){return{loadPost:function(t){return e(Object(i.receivePost)(t))},loadUser:function(t){return e(Object(i.receiveUser)(t))}}})(function(e){var t=e.className,n=e.postId,a=e.post,o=e.author,s=e.loadPost,u=e.loadUser;return Object(r.useEffect)(function(){n&&!a&&s(n),a&&!o&&u(a.userId)}),n?c.a.createElement("div",{className:"post-detail ".concat(t)},c.a.createElement(I,{post:a,author:o}),c.a.createElement(g,null)):c.a.createElement("div",{className:"post-detail ".concat(t)},"Did not selected any post...")})),h=(n(47),function(e){var t=Object.keys(e);if(!t.length)return 1;var n=t.findIndex(function(e,t){return+e!==t+1});return n<0?t.length+1:n+1}),b=Object(E.b)(function(e,t){return Object(m.a)({posts:e.posts},t)},function(e){return{loadNext:function(t){return e(Object(i.receivePost)(t))},loadAuthor:function(){return e(Object(i.receiveAuthor)())},resetPosts:function(){return e(Object(i.resetState)("POSTS"))}}})(function(e){var t=e.posts,n=(e.loadNext,e.className);e.resetPosts,h(t);return c.a.createElement("div",{className:"post-list ".concat(n)},Object.values(t).map(function(e,t){return c.a.createElement(w,Object.assign({key:t},e))}))}),O=(n(49),function(e){var t=e.match.params.postId;return c.a.createElement("div",{className:"app"},c.a.createElement("div",{className:"app__title"},"Posts app"),c.a.createElement(j,null),c.a.createElement(S,{className:"app__post-detail",postId:t||""}))}),R=(n(51),function(e){var t=e.className,n=e.author,a=void 0===n?{}:n;return Object.entries(a).length?c.a.createElement("div",{className:"author ".concat(t)},c.a.createElement("span",{className:"author-name"},a.name)," / ",c.a.createElement("span",{className:"author-email"},a.email)):c.a.createElement(_,{message:"Author does not loaded for unknown reasons... w(\xb0\uff4f\xb0)w"})}),T=(n(53),function(e){var t=e.image,a=e.callback,r=e.className,o=void 0===r?"":r;return c.a.createElement("div",{className:"button ".concat(o),onClick:a},c.a.createElement("img",{className:"button__img",src:function(e){console.log("image log:",e);try{return n(55)("./".concat(e,".svg"))}catch(t){console.error(t)}}(t),alt:"Add more"}))}),N=(n(60),function(){return c.a.createElement("div",{className:"comment"},c.a.createElement("div",{className:"comment-title"},"REPELLAT PROVIDENT OCCAECATI"),c.a.createElement("div",{className:"comment-body"},"quas totam nostrum rerum est autem sunt rem eveniet architecto"),c.a.createElement(R,{className:"comment_author"}))}),g=(n(62),function(){return c.a.createElement("div",{className:"comment-list"},c.a.createElement(N,null),c.a.createElement(N,null),c.a.createElement(N,null))}),_=(n(64),function(e){var t=e.className,n=e.message;return c.a.createElement("div",{className:"error-message ".concat(t)},n)}),j=(n(66),function(){return c.a.createElement("div",{className:"master-panel"},c.a.createElement(v,null),c.a.createElement(b,null))}),I=(n(68),function(e){var t=e.post,n=void 0===t?{}:t,a=e.author,r=void 0===a?{}:a;return c.a.createElement("div",{className:"post"},c.a.createElement("h3",{className:"post-title"},n.title),c.a.createElement("p",{className:"post-body"},n.body),c.a.createElement(R,{className:"post_author",author:r}))}),P=n(83),w=(n(70),function(e){var t=e.id,n=e.title,a=e.body;return c.a.createElement(P.a,{exact:!0,to:"/posts/".concat(t),className:"post-preview"},c.a.createElement("h3",{className:"post-preview-title"},n),c.a.createElement("p",{className:"post-preview-body"},a))}),y=n(81),U=n(80),A=n(82),k=(n(77),window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||u.d),x=Object(d.createLogger)(),Q=function(){try{var e=localStorage.getItem("state");if(null===e)return;return JSON.parse(e)}catch(t){return}}(),F=Object(u.e)(function(e,t){switch(t.type){case i.RESET_STATE.POSTS:e=void 0}return f(e,t)},Q,k(Object(u.a)(a.a,x)));F.subscribe(function(){!function(e){try{var t=JSON.stringify(e);localStorage.setItem("state",t)}catch(n){}}(F.getState())}),s.a.render(c.a.createElement(function(e){var t=e.store;return c.a.createElement(E.a,{store:t},c.a.createElement(y.a,{basename:"/react-async-posts"},c.a.createElement(c.a.Fragment,null,c.a.createElement(U.a,{exact:!0,path:"/",render:function(){return c.a.createElement(A.a,{to:"/posts"})}}),c.a.createElement(U.a,{exact:!0,path:"/posts",render:function(e){return c.a.createElement(O,e)}}),c.a.createElement(U.a,{exact:!0,path:"/posts/:postId",render:function(e){return c.a.createElement(O,e)}}))))},{store:F}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[31,2,1]]]);
//# sourceMappingURL=main.f1865f4b.chunk.js.map