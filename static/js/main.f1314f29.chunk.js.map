{"version":3,"sources":["actions/index.js","services/post/post.js","services/index.js","actions/comment/index.js","actions/state/state.action.js","actions/state/index.js","actions/post/post.action.js","actions/post/index.js","actions/user/user.action.js","actions/user/index.js","assets/svg/plus.svg","assets/svg/stop.svg","serviceWorker.js","reducers/state/state.reducer.js","reducers/posts/posts.reducer.js","reducers/users/users.reducer.js","containers/post-detail/post-detail.jsx","containers/post-list/post-list.jsx","components/app/app.jsx","components/author/author.jsx","components/comment/comment.jsx","components/comment-list/comment-list.jsx","components/error-message/error-message.jsx","components/post/post.jsx","components/post-preview/post-preview.jsx","components/more-button/more-button.jsx","components/reset-button/reset-button.jsx","index.js","localStorage.js","components/root/root.jsx"],"names":["_state__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","d","__webpack_exports__","_post__WEBPACK_IMPORTED_MODULE_1__","_user__WEBPACK_IMPORTED_MODULE_2__","_comment__WEBPACK_IMPORTED_MODULE_3__","o","url","Post","posts","loaded","post","postId","Promise","resolve","reject","fetch","concat","then","response","ok","json","Error","status","user","userId","_comment_action__WEBPACK_IMPORTED_MODULE_0__","RESET_STATE","POSTS","resetState","state","type","REQUEST_POST","START","FINISH","ERROR","requestPost","payload","receivePost","dispatch","services","catch","error","REQUEST_USER","requestUser","receiveUser","module","exports","p","Boolean","window","location","hostname","match","appReducer","combineReducers","arguments","length","undefined","action","Object","objectSpread","defineProperty","id","users","PostDetailContainer","connect","ownProps","author","loadPost","loadUser","_ref","className","useEffect","react_default","a","createElement","post_Post","comment_list_CommentList","nextPostId","ids","keys","missedIndex","findIndex","index","PostListContainer","loadNext","loadAuthor","receiveAuthor","resetPosts","nextId","more_button_MoreButton","reset_button_ResetButton","values","map","post_preview_PostPreview","assign","key","App","selectedPostId","params","Author","_ref$author","entries","name","email","error_message_ErrorMessage","message","Comment","author_Author","CommentList","comment_Comment","ErrorMessage","_ref$post","title","body","PostPreview","NavLink","exact","to","MoreButton","onClick","src","plus","alt","ResetButton","stop","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","loggerMiddleware","createLogger","persistedState","serializedState","localStorage","getItem","JSON","parse","loadState","store","createStore","applyMiddleware","thunkMiddleware","subscribe","stringify","setItem","saveState","getState","ReactDOM","render","react_redux_es","BrowserRouter","basename","process","Fragment","Route","path","Redirect","component","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.f1314f29.chunk.js","sourcesContent":["export * from './state';\nexport * from './post';\nexport * from './user';\nexport * from './comment';","import fetch from 'isomorphic-fetch';\n\nconst url = 'https://jsonplaceholder.typicode.com';\n\nexport const Post = {\n\n  posts: [],\n  loaded: false,\n  post: (postId) => {\n    return new Promise((resolve, reject) => {\n      fetch(`${url}/posts/${postId}`)\n        .then(response => {\n          response.ok ? resolve(response.json()) : reject(new Error(`Request status: ${response.status} :(`));\n        });\n    });\n  },\n  user: (userId) => {\n    return new Promise((resolve, reject) => {\n      fetch(`${url}/users/${userId}`)\n        .then(response => {\n          response.ok ? resolve(response.json()) : reject(new Error(`Request status: ${response.status} :(`));\n        });\n    });\n  }\n}","export * from './post';","export * from './comment.action';","export const RESET_STATE = {\n  POSTS: \"RESET_STATE_POSTS\"\n}\n\nexport function resetState(state) {\n  return {\n    type: RESET_STATE[state]\n  }\n}","export * from './state.action';","import * as services from './../../services';\n\nexport const REQUEST_POST = {\n  START: \"REQUEST_POST_START\",\n  FINISH: \"REQUEST_POST_FINISH\",\n  ERROR: \"REQUEST_POST_ERROR\"\n}\n\nexport function requestPost(state, payload) {\n  return {\n    type: REQUEST_POST[state],\n    payload\n  }\n}\n\nexport function receivePost(postId) {\n  return function (dispatch) {\n    dispatch(requestPost('START'));\n    services.Post.post(postId)\n      .then(post => {\n        dispatch(requestPost('FINISH', { post }))\n      })\n      .catch(error => {\n        dispatch(requestPost('ERROR', {error}));\n      });\n  }\n}","export * from './post.action';","import * as services from './../../services';\n\nexport const REQUEST_USER = {\n  START: \"REQUEST_USER_START\",\n  FINISH: \"REQUEST_USER_FINISH\",\n  ERROR: \"REQUEST_USER_ERROR\"\n}\n\nexport function requestUser(state, payload) {\n  return {\n    type: REQUEST_USER[state],\n    payload\n  }\n}\n\nexport function receiveUser(userId) {\n  return function(dispatch) {\n    dispatch(requestUser('START'));\n    services.Post.user(userId)\n      .then(user => {\n        dispatch(requestUser('FINISH', { user }));\n      })\n      .catch(error => {\n        dispatch(requestUser('ERROR', { error }));\n      });\n  }\n}\n","export * from './user.action';","module.exports = __webpack_public_path__ + \"static/media/plus.5338dd10.svg\";","module.exports = __webpack_public_path__ + \"static/media/stop.5a80db53.svg\";","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { combineReducers } from 'redux';\nimport { RESET_STATE } from './../../actions';\n// import { posts, users } from './../../reducers';\n\nimport { posts } from './../../reducers/posts/posts.reducer';\nimport { users } from './../../reducers/users/users.reducer';\n\nconst appReducer = combineReducers({\n  posts,\n  users\n});\n\n// export const root = combineReducers({\n//   posts,\n//   users\n// });\n\nexport const root = (state, action) => {\n  switch (action.type) {\n    case RESET_STATE.POSTS:\n      state  = undefined;\n    break;\n  }\n  return appReducer(state, action)\n}","import { REQUEST_POST } from './../../actions';\n\nexport const posts = (state = {}, action) => {\n  switch (action.type) {\n    case REQUEST_POST.FINISH: \n      const post = action.payload.post;\n      return {\n        ...state, \n        [post.id]: {...post} // need some refactoring...\n      }\n    case REQUEST_POST.ERROR:\n      return {\n        ...state\n      }\n    case REQUEST_POST.START:\n    default:\n      return {\n        ...state\n      }\n  }\n}","import { REQUEST_USER } from './../../actions';\n\nexport const users = (state = {}, action) => {\n  switch (action.type) {\n    case REQUEST_USER.FINISH:\n      const user = action.payload.user;\n      return {\n        ...state,\n        [user.id]: {...user}\n      }\n    case REQUEST_USER.ERROR: \n      return {\n        ...state\n      }\n    case REQUEST_USER.START:\n    default:\n      return {\n        ...state\n      }\n  }\n}","import React, { useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { Post, CommentList } from './../../components';\nimport './post-detail.css';\nimport { receivePost, receiveUser } from './../../actions';\n\nconst PostDetail = ({className, postId, post, author, loadPost, loadUser}) => {\n  useEffect(() => {\n    if (postId && !post) {\n      loadPost(postId);\n    }\n\n    if (post && !author) {\n      loadUser(post.userId);\n    }\n  });\n\n  if (postId) {\n    return (\n      (<div className={`post-detail ${className}`}>\n        <Post post={post} author={author} />\n        <CommentList />\n      </div>)\n    );\n  } else {\n    return (\n      <div className={`post-detail ${className}`}>\n        Did not selected any post...\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  const postId = ownProps.postId;\n  const post = state.posts[postId] ? state.posts[postId] : undefined;\n  const userId = post ? post.userId : undefined;\n  const author = state.users[userId] ? state.users[userId] : undefined;\n\n  return {\n    post,\n    author\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    loadPost: (postId) => dispatch(receivePost(postId)),\n    loadUser: (userId) => dispatch(receiveUser(userId))\n  }\n}\n\nexport const PostDetailContainer = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(PostDetail)","import React from 'react';\nimport { PostPreview, MoreButton, ResetButton } from './../../components';\nimport { connect } from 'react-redux';\nimport { resetState, receivePost, receiveAuthor } from './../../actions';\nimport './post-list.css';\n\nconst PostList = ({posts, loadNext, className, resetPosts}) => {\n  const nextId = nextPostId(posts);\n  \n  return (\n    <div className={`post-list ${className}`}>\n      <MoreButton loadNext={() => {loadNext(nextId)}} nextPostId={nextPostId(posts)} />\n      <ResetButton resetPosts={resetPosts} />\n      { Object.values(posts).map(((post, index) => <PostPreview key={index} {...post} />)) }\n    </div>\n  )\n}\n\nexport const nextPostId = (posts) => {\n  const ids = Object.keys(posts);\n\n  if (!ids.length) {\n    return 1;\n  }\n\n  const missedIndex = ids.findIndex((id, index) => +id !== index + 1); \n\n  if (missedIndex < 0) {\n    return ids.length + 1;\n  } else {\n    return missedIndex + 1;\n  }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  return {\n    posts: state.posts,\n    ...ownProps\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    loadNext: postId => dispatch(receivePost(postId)),\n    loadAuthor: () => dispatch(receiveAuthor()),\n    resetPosts: () => dispatch(resetState('POSTS'))\n  }\n}\n\nexport const PostListContainer = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(PostList);","import React from 'react';\nimport { PostListContainer, PostDetailContainer } from './../../containers';\nimport './app.css';\n\nexport const App = ({match}) => {\n  const selectedPostId = match.params.postId;\n\n  return (\n    <div className=\"app\">\n      <div className=\"app__title\">\n        Posts app\n      </div>\n      <PostListContainer className=\"app__post-list\" />\n      <PostDetailContainer className=\"app__post-detail\" postId={selectedPostId || ''} />\n    </div>\n  );\n}","import React, {useEffect} from 'react';\nimport { ErrorMessage } from '../../components';\nimport './author.css';\n\nexport const Author = ({className, author = {}}) => {\n  if (Object.entries(author).length) {\n    return (\n      <div className={`author ${className}`}>\n        <span className=\"author-name\">{author.name}</span> / <span className=\"author-email\">{author.email}</span>\n      </div>\n    );\n  } else {\n    return (\n      <ErrorMessage message=\"Author does not loaded for unknown reasons... w(°ｏ°)w\" />\n    )\n  }\n\n}","import React from 'react'; \nimport { Author } from './../../components';\nimport './comment.css'; \n\nexport const Comment = () => {\n  return (\n    <div className=\"comment\">\n      <div className=\"comment-title\">REPELLAT PROVIDENT OCCAECATI</div>\n      <div className=\"comment-body\">quas totam nostrum rerum est autem sunt rem eveniet architecto</div>\n      <Author className=\"comment_author\" />\n    </div>\n  );\n}","import React from 'react';\nimport { Comment } from './../../components';\nimport './comment-list.css';\n\nexport const CommentList = () => {\n  return (\n    <div className=\"comment-list\">\n      <Comment />\n      <Comment />\n      <Comment />\n    </div>\n  );\n}","import React from 'react';\nimport './error-message.css';\n\nexport const ErrorMessage = ({className, message}) => {\n  return (\n    <div className={`error-message ${className}`}>\n      {message}\n    </div>\n  );\n}","import React from 'react';\nimport { Author } from './../../components';\nimport './post.css';\n\nexport const Post = ({post = {}, author = {}}) => {\n  return (\n    <div className=\"post\">\n      <h3 className=\"post-title\">{post.title}</h3>\n      <p className=\"post-body\">{post.body}</p>\n      <Author className=\"post_author\" author={author} />\n    </div>\n  );\n}","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport './post-preview.css'\n\nexport const PostPreview = ({id, title, body}) => {\n  return (\n    <NavLink\n      exact\n      to={`/posts/${id}`}\n      className=\"post-preview\">\n      <h3 className=\"post-preview-title\">{title}</h3>\n      <p className=\"post-preview-body\">{body}</p>\n    </NavLink>\n  );\n}","import React, { useEffect } from 'react';\nimport './more-button.css';\nimport plus from './../../assets/svg/plus.svg';\n\nexport const MoreButton = ({loadNext}) => {\n  return (\n    <div className=\"more-button\" onClick={loadNext}>\n      <div className=\"more-button__title\">Load More</div>\n      <img className=\"more-button__img\" src={plus} alt=\"Add more\"/>\n    </div>\n  )\n}","import React from 'react';\nimport './reset-button.css';\nimport stop from './../../assets/svg/stop.svg';\n\nexport const ResetButton = ({resetPosts}) => {\n  return (\n    <div className=\"reset-button\" onClick={resetPosts}>\n      <div className=\"reset-button__title\">Reset Store</div>\n      <img className=\"reset-button__img\" src={stop} alt=\"Reset store\"/>\n    </div>\n  )\n}","import thunkMiddleware from 'redux-thunk';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport * as serviceWorker from './serviceWorker';\nimport { createStore, applyMiddleware, compose } from 'redux';\nimport { root } from './reducers';\nimport { createLogger } from 'redux-logger';\nimport { Root } from './components';\nimport { loadState, saveState } from './localStorage';\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst loggerMiddleware = createLogger();\nconst persistedState = loadState();\n\nconst store = createStore(\n  root,\n  persistedState,\n  composeEnhancers(\n    applyMiddleware(\n      thunkMiddleware,\n      loggerMiddleware\n    )\n  )\n);\n\nstore.subscribe(() => {\n  saveState(store.getState());\n});\n\nReactDOM.render(<Root store={store} />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","export const loadState = () => {\n  try {\n    const serializedState = localStorage.getItem('state');\n    if (serializedState === null) {\n      return undefined;\n    }\n\n    return JSON.parse(serializedState);\n  } catch (error) {\n    return undefined;\n  }\n};\n\nexport const saveState = (state) => {\n  try {\n    const serializedState = JSON.stringify(state);\n    localStorage.setItem('state', serializedState);\n  } catch (error) {\n    //\n  }\n}","import React from 'react';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter, Route, Redirect } from 'react-router-dom';\nimport { App } from './../../components';\nimport './root.css';\n\nexport const Root = ({store}) => {\n  return (\n    <Provider store={store}>\n      <BrowserRouter basename={process.env.PUBLIC_URL}>\n        <>\n          <Route exact path=\"/\" render={() => <Redirect to=\"/posts\" />} />\n          <Route exact path= \"/posts\" component={App} />\n          <Route exact path= \"/posts/:postId\" component={App} />\n        </>\n      </BrowserRouter>\n    </Provider>\n  )\n}"],"sourceRoot":""}